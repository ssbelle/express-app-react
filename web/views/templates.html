<!DOCTYPE html>

<html lang="en">
<!--begin::Head-->
<head>
    <%- include('partials/head.html'); %>
</head>
<!--end::Head-->
<!--begin::Body-->
<body id="kt_app_body" data-kt-app-header-fixed="true" data-kt-app-header-fixed-mobile="true" data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" data-kt-app-sidebar-stacked="true" data-kt-app-toolbar-enabled="true" class="app-default">
    <!--begin::App-->
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
        <!--begin::Page-->
        <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
            <%- include('partials/header.html'); %>
            <!--begin::Wrapper-->
            <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
                <!--begin::Sidebar-->
                <div id="kt_app_sidebar" class="app-sidebar" data-kt-drawer="true" data-kt-drawer-name="app-sidebar" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="auto" data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_app_sidebar_mobile_toggle">
                    <!--begin::Sidebar primary-->
                    <%- include('partials/sidebar.html'); %>
                    <!--end::Sidebar primary-->                   
                </div>
                <!--end::Sidebar-->
                <!--begin::Main-->
                <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
                    <!--begin::Content wrapper-->
                    <div class="d-flex flex-column flex-column-fluid">
                        <!--begin::Content-->
                        <div id="kt_app_content" class="app-content flex-column-fluid pt-1">
                            <!--begin::Content container-->
                            <div id="kt_app_content_container" class="app-container container-fluid pt-4">
                                <div class="tab-content">
                                    <!--begin::Tab pane-->
                                    <div id="kt_project_users_table_pane" class="tab-pane fade show active">
                                        <!--begin::Card-->
                                        <div class="card card-flush bg-transparent">
                                            <!--begin::Card body-->
                                            <div class="card-body p-0 pt-10">
                                                <!--begin::Table container-->

                                                <div class="row">
                                                    <div class="col-auto">
                                                        <div class="d-lg-flex flex-column flex-lg-row-auto w-lg-325px">
                                                            <div class="accordion" id="kt_accordionorg_1">
                                                                <div class="accordion-item">
                                                                    <h2 class="accordion-header" id="kt_accordionorg_1_header_1">
                                                                        <button class="accordion-button fs-4 fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#kt_accordionorg_1_body_1" aria-expanded="true" aria-controls="kt_accordionorg_1_body_1">
                                                                            <span class="card-label fw-bold text-gray-900 fs-7">Organisation Templates</span>
                                                                            <span class="badge badge-warning fs-9 ms-3">Coming soon</span>
                                                                        </button>
                                                                    </h2>
                                                                    <div id="kt_accordionorg_1_body_1" class="accordion-collapse collapse show" aria-labelledby="kt_accordionorg_1_header_1" data-bs-parent="#kt_accordionorg_1">
                                                                        <div class="accordion-body">

                                                                            <% if(data.orgtemplates.length < 1) { %>
                                                                            <span class="fs-7">No templates have been shared within your organisation.</span>
                                                                            <% } %>

                                                                            <% for(var i = 0; i < data.orgtemplates.length; i++) { %>
                                                                            <!--begin::Item-->
                                                                            <div class="d-flex flex-stack mt-2">
                                                                                <!--begin::Section-->
                                                                                <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                                    <!--begin:Author-->
                                                                                    <a href="/templates/<%= data.orgtemplates[i]['id'] %>" class="btn btn-bg-light w-100 text-start <%= data.templateinfo.id === data.orgtemplates[i]['id'] ? 'templateborderdashed' : '' %>">
                                                                                        <div class="flex-grow-1 me-2">
                                                                                            <span class="text-gray-800 text-hover-primary fs-7"><%= data.orgtemplates[i]["name"] %></span>
                                                                                            <span class="text-muted fw-semibold d-block fs-8">By: Karthik Srinivasan / <%= new Date(data.orgtemplates[i]["create_date"]).toLocaleString('en-us',{day: 'numeric', month:'short', year:'numeric'}) %></span>
                                                                                        </div>
                                                                                    </a>
                                                                                    <!--end:Author-->
                                                                                </div>
                                                                                <!--end::Section-->
                                                                            </div>
                                                                            <!--end::Item-->
                                                                            <% } %>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="d-lg-flex flex-column flex-lg-row-auto w-lg-325px mt-5">
                                                            <div class="accordion" id="kt_accordionuser_1">
                                                                <div class="accordion-item">
                                                                    <h2 class="accordion-header" id="kt_accordionuser_1_header_1">
                                                                        <button class="accordion-button fs-4 fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#kt_accordionuser_1_body_1" aria-expanded="true" aria-controls="kt_accordionuser_1_body_1">
                                                                            <span class="card-label fw-bold text-gray-900 fs-7">Your Templates</span>
                                                                        </button>
                                                                    </h2>
                                                                    <div id="kt_accordionuser_1_body_1" class="accordion-collapse collapse show" aria-labelledby="kt_accordionuser_1_header_1" data-bs-parent="#kt_accordionuser_1">
                                                                        <div class="accordion-body">
                                                                            <% if(data.usertemplates.length < 1) { %>
                                                                                <span class="fs-7">Create your first template!</span>
                                                                            <% } %>
                                                                            <% for(var i = 0; i < data.usertemplates.length; i++) { %>
                                                                            <!--begin::Item-->
                                                                            <div class="d-flex flex-stack mt-2">
                                                                                <!--begin::Section-->
                                                                                <div class="d-flex align-items-center flex-row-fluid flex-wrap">
                                                                                    <!--begin:Author-->
                                                                                    <a href="/templates/<%= data.usertemplates[i]['id'] %>" class="btn btn-bg-light w-100 text-start <%= data.templateinfo.id === data.usertemplates[i]['id'] ? 'templateborderdashed' : '' %>">
                                                                                        <div class="flex-grow-1 me-2">
                                                                                            <span class="text-gray-800 text-hover-primary fs-7"><%= data.usertemplates[i]["name"] %></span>
                                                                                            <span class="text-muted fw-semibold d-block fs-7"><%= new Date(data.usertemplates[i]["create_date"]).toLocaleString('en-us',{day: 'numeric', month:'short', year:'numeric'}) %></span>
                                                                                        </div>
                                                                                    </a>
                                                                                    <!--end:Author-->
                                                                                </div>
                                                                                <!--end::Section-->
                                                                            </div>
                                                                            <!--end::Item-->
                                                                            <% } %>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
 
                                                    </div>
                                                    <div class="col-8">
                                                        <div class="card mb-5 mb-xl-8">
                                                            <div class="card-body pt-5">

                                                                <!-- ==========================================  -->
                                                                <form id="kt_modal_new_target_form" class="form" action="/templates/save" method="post">
                                                                    <input type="hidden" id="templateid" name="templateid" value="-1" />
                                                                    <!--begin::Heading-->
                                                                    <div class="mb-13 text-center">
                                                                        <!--begin::Title-->
                                                                        <% if(!data.templateinfo.id) { %>
                                                                            <h1 class="mb-1 fs-4">Create new template</h1>
                                                                        <% } %>
                                                                        <!--end::Title-->
                                                                    </div>
                                                                    <!--end::Heading-->
                                                                    <!--begin::Input group-->
                                                                    <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
                                                                        <!--begin::Label-->
                                                                        <label class="d-flex align-items-center fs-6 fw-semibold mb-2">
                                                                            <span class="required" id="templatetitle">Template Title</span>
                                                                            </span>
                                                                        </label>
                                                                        <!--end::Label-->
                                                                        <input type="text" class="form-control form-control-solid" placeholder="Enter Template Title" name="target_title" value="<%= data.templateinfo.name %>" required>
                                                                        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"></div>
                                                                    </div>
                                                                    <!--end::Input group-->
                                                                    <!--begin::Input group-->
                                                                    <div class="d-flex flex-column mb-8">
                                                                        <label class="fs-6 fw-semibold mb-2">Template Description</label>
                                                                        <textarea class="form-control form-control-solid" rows="2" name="target_details" placeholder="Optional" id="templatedescription"><%= data.templateinfo.description %></textarea>
                                                                    </div>
                                                                    <!--end::Input group-->
                                                                    <!--begin::Input group-->
                                                                    <div class="d-flex flex-column mb-8 fv-row">

                                                                    </div>
                                                                    <!--end::Input group-->
                                                                    <!--begin::Input group-->
                                                                    <div class="d-flex flex-stack mb-8">
                                                                        <!--begin::Accordion-->
                                                                        <div class="accordion w-100" id="kt_accordion_1">
                                                                            <div class="accordion-item">
                                                                                <h2 class="accordion-header" id="kt_accordion_1_header_1">
                                                                                    <button class="accordion-button fs-7 fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#kt_accordion_1_body_1" aria-expanded="true" aria-controls="kt_accordion_1_body_1">
                                                                                        Memo Instructions
                                                                                    </button>
                                                                                </h2>
                                                                                <div id="kt_accordion_1_body_1" class="accordion-collapse collapse" aria-labelledby="kt_accordion_1_header_1">
                                                                                    <div class="accordion-body">
                                                                                        <!--begin::Input group-->
                                                                                        <div class="d-flex flex-column mb-8">
                                                                                            <label class="fs-7 fw-semibold mb-2 required">System Message</label>
                                                                                            <% if(data.templateinfo.prompts && data.templateinfo.prompts.length > 1) { %>
                                                                                            <textarea class="form-control form-control-solid fs-7" required rows="3" name="memosysteminstructions" placeholder="" id="memosysteminstructions"><%= data.templateinfo.prompts.find(prompt => prompt.name === "memo").system_message %></textarea>
                                                                                            <% } else {%>
                                                                                            <textarea class="form-control form-control-solid fs-7" required rows="3" name="memosysteminstructions" placeholder="" id="memosysteminstructions">You are a venture capital associate for the best venture capital firm in the country. Your role is to evaluate early-stage software companies and help create comprehensive investment memos.</textarea>
                                                                                            <%} %>
                                                                                        </div>
                                                                                        <!--end::Input group-->
                                                                                        <!--begin::Input group-->
                                                                                        <div class="d-flex flex-column mb-8">
                                                                                            <label class="fs-7 fw-semibold mb-2 required">User Message</label>
                                                                                            <% if(data.templateinfo.prompts && data.templateinfo.prompts.length > 1) { %>
                                                                                                <textarea class="form-control form-control-solid fs-7" rows="5" name="memouserinstructions" required placeholder="" id="memouserinstructions"><%= data.templateinfo.prompts.find(prompt => prompt.name === "memo").user_message %></textarea>
                                                                                            <% } else {%>
                                                                                            <textarea class="form-control form-control-solid fs-7" rows="5" name="memouserinstructions" required placeholder="" id="memouserinstructions">Create a detailed investment report for the partners' meeting on Monday. The report should include bolded section titles and paragraphs for each section: Company Name, Date ({DATE}), Industry, Problem, Solution, Market Size, Business Model, Product/Technology, Traction (only customer growth data), Team (brief bios and LinkedIn links for each founder), Financials/Raise, and Investment Recommendation. Do not format the memo as a table. Utilize the provided data to create the report.</textarea>
                                                                                            <%} %>
                                                                                        </div>
                                                                                        <!--end::Input group-->
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="accordion-item">
                                                                                <h2 class="accordion-header" id="kt_accordion_1_header_2">
                                                                                    <button class="accordion-button fs-7 fw-semibold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#kt_accordion_1_body_2" aria-expanded="false" aria-controls="kt_accordion_1_body_2">
                                                                                        Competitive Analysis Instructions
                                                                                    </button>
                                                                                </h2>
                                                                                <div id="kt_accordion_1_body_2" class="accordion-collapse collapse" aria-labelledby="kt_accordion_1_header_2">
                                                                                    <div class="accordion-body">
                                                                                        <!--begin::Input group-->
                                                                                        <div class="d-flex flex-column mb-8">
                                                                                            <label class="fs-7 fw-semibold mb-2">System Message</label>
                                                                                            <% if(data.templateinfo.prompts && data.templateinfo.prompts.length > 1) { %>
                                                                                            <textarea class="form-control form-control-solid fs-7" rows="3" required name="compsysteminstructions" placeholder="" id="compsysteminstructions"><%= data.templateinfo.prompts.find(prompt => prompt.name === "comp").system_message %></textarea>
                                                                                            <% } else {%>
                                                                                            <textarea class="form-control form-control-solid fs-7" rows="3" required name="compsysteminstructions" placeholder="" id="compsysteminstructions">You are a venture capital associate for the best venture capital firm in the country. Your role is to evaluate early-stage software companies and help create comprehensive competetive market landscapes in the specified format, and based on the provided data.</textarea>
                                                                                            <%} %>
                                                                                        </div>
                                                                                        <!--end::Input group-->
                                                                                        <!--begin::Input group-->
                                                                                        <div class="d-flex flex-column mb-8">
                                                                                            <label class="fs-7 fw-semibold mb-2">User Message</label>
                                                                                            <% if(data.templateinfo.prompts && data.templateinfo.prompts.length > 1) { %>
                                                                                            <textarea class="form-control form-control-solid fs-7" rows="9" required name="compuserinstructions" placeholder="" id="compuserinstructions"><%= data.templateinfo.prompts.find(prompt => prompt.name === "comp").user_message %></textarea>
                                                                                            <% } else {%>
                                                                                            <textarea class="form-control form-control-solid fs-7" rows="9" required name="compuserinstructions" placeholder="" id="compuserinstructions">The competitive market landscape document should include the 3 following sections:\n1. Overview of emerging trends, technologies, or potential disruptors.\n2. Competitive market landscape. \n3. Strengths, weaknesses, and unique selling propositions for each competitor.\nYour analysis should display an deep understanding of the industry and its changing dynamics, highlighting your capacity to synthesize and dissect information.\nFor Section 2, the Competitive Market Landscape, use both public or private competitors. For private competitors, focus on those that have raised more than $2 million in VC funding. Finally, every company selected should have the following information: Website URL, Public or Private, Customer Type (B2B, B2C, etc), Year Founded, HQ Location, PIC (US$M), Last Raise (US$M), Date of Last Raise, Last Post Money Valuation, Notable Investors, Notable Customers, Company Description, Founder/CEO LinkedIn URL, Founder/CEO Background, Employee Count, Glassdoor Review. You MUST structure the information as an unordered list of bullet points, AND, you MUST identify at least 3 competitors to the BEST of your ability.\nThe company you must build each of Sections 1, 2 and 3 around is called {companyName}. You may use the following memo on {companyName} as ADDITIONAL supporting data when creating the competitive landscape overview for {companyName}:</textarea>
                                                                                            <%} %>
                                                                                        </div>
                                                                                        <!--end::Input group-->
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="text-muted fw-semibold fs-8 text-end">
                                                                                If you need help writing prompts, please check <a href="https://platform.openai.com/docs/guides/prompt-engineering/strategy-write-clear-instructions" target="_blank" class="fw-bold link-primary">Prompt Guidelines</a>.
                                                                            </div>

                                                                        </div>
                                                                        <!--end::Accordion-->
                                                                    </div>

                                                                    <!--begin::Input group-->
                                                                    <div class="d-flex flex-stack mb-8 opacity-25">
                                                                        <!--begin::Label-->
                                                                        <div class="me-5">                                                                            
                                                                            <label class="fs-6 fw-semibold">Make it public <span class="badge badge-warning fs-9 ms-2 mb-2">Coming soon</span></label>
                                                                            <div class="fs-7 fw-semibold text-muted">
                                                                                Only members in your associated org will have access to this template
                                                                            </div>
                                                                        </div>
                                                                        <!--end::Label-->
                                                                        <!--begin::Switch-->
                                                                        <label class="form-check form-switch form-check-custom form-check-solid">
                                                                            <input class="form-check-input" type="checkbox" value="1" <%= data.templateinfo.makepublic ? 'checked' : '' %> name="templatemakepublic" id="templatemakepublic">
                                                                        </label>
                                                                        <!--end::Switch-->
                                                                    </div>
                                                                    <!--end::Input group-->
                                                                    <!--begin::Actions-->
                                                                    <div class="text-center">
                                                                        <button id="kt_modal_new_target_submit" type="submit" class="btn btn-primary" onclick="addTemplate();">
                                                                            <span class="indicator-label">
                                                                                Submit
                                                                            </span>
                                                                            <span class="indicator-progress">
                                                                                Saving... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                                                            </span>
                                                                        </button>
                                                                    </div>
                                                                    <!--end::Actions-->

                                                                </form>

                                                                <!-- =========================================================  -->


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                        <!--end::Table container-->
                                                    </div>
                                            <!--end::Card body-->
                                        </div>
                                        <!--end::Card-->
                                    </div>
                                    <!--end::Tab pane-->
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--begin::Footer-->
                    <%- include('partials/footer.html'); %>
                    <!--end::Footer-->
                </div>
                <!--end:::Main-->
            </div>
            <!--end::Wrapper-->
        </div>
        <!--end::Page-->
    </div>

    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
        <i class="ki-outline ki-arrow-up"></i>
    </div>
    <!--end::Scrolltop-->
    <script src="/js/template.js"></script>
</body>
<!--end::Body-->
</html>